<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Albis</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Albis</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Albis<span class="signature">(settings)</span><span class="type-signature"></span></h2>
        
            <div class="class-description">An Albis class</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Albis"><span class="type-signature"></span>new Albis<span class="signature">(settings)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Create an Albis object
Note: due to security reasons, keep all sensitive data (i.e. APIid, APIsecret, username, ...)
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>settings</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>APIid</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">API id used for retrieving a valid a token</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>APIsecret</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">API secret used for retrieving a valid token</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">shop owner or shop admins username</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">shop owner or shop admin password</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>realm</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">shop owner connection name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>provision</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">provision - defines how much commission, retailer wants to receives for each deal. Possible values min: 0, max: 5. Default 0.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>auth0Endpoint</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Auth0 endpoint - needed to create a token usable in Albis methods</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>SDKendpoint</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">SDK endpoint</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>audience</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Auth0 audience - needed to create a token usable in Albis methods</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>grantType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Auth0 grantType - needed to create a token usable in Albis methods</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>apiStage</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">defines proper API Gateway endpoints stage (API version) for requests</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>nodeEnv</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">defines the environment (development, production, test)</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line52">line 52</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>new Albis(
 {
   APIid: 'abcde',
   APIsecret: 'asdf',
   username: 'username',
   password: 'password',
   realm: 'shop',
   provision: 3,
   auth0Endpoint: 'https://urlToTokenProvider/token',
   SDKendpoint: 'https://sdkEndpoint',
   audience:'https://urlToTokenProvider/v2',
   grantType: 'https://urlToTokenProvider/password-realm',
   apiStage: 'staging',
   nodeEnv: 'development'
 })</code></pre>



    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="getAlbisToken"><span class="type-signature">(async) </span>getAlbisToken<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    getAlbisToken() returns albisToken needed to call other Albis functions
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line76">line 76</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    albisToken
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>getAlbisToken()</code></pre>



        
            

    

    
    <h4 class="name" id="getLegalForms"><span class="type-signature">(async) </span>getLegalForms<span class="signature">(albisToken)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    getLegalForms() get a map of all legal forms (needed for lessee data)
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>albisToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">object with Albis token, which lets to communicate with Albis API</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line260">line 260</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    An object with legal forms and their respective IDs
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>getLegalForms({token: '12345'})</code></pre>



        
            

    

    
    <h4 class="name" id="getRates"><span class="type-signature">(async) </span>getRates<span class="signature">(values, albisToken)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    getRates(values, albisToken) retrieves proposed rates. Returned object is needed for proceed getApplication(albisToken)
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>values</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">An object with data for providing rate offers
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>purchasePrice</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Total net value of the cart [EUR]</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>productGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Product group of chosen products FOR NOW constant 1    ~~~~~</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>downPayment</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Net value of down payment [EUR]. Default 0</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>contractType</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Contract type FOR NOW contant 1                        ~~~~~</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>paymentMethod</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Payment options - possible values: 'quarterly' or 'monthly'</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>albisToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">object with Albis token, which lets to communicate with Albis API</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line134">line 134</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    An Object with attributes passed to the function and additional attributes:
leaseTerm,
value,
insurance
finalPayment (if there is an opportunity to shrotening the lease term)
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>getRates({ purchasePrice: 5000, productGroup: 1, downPayment: 500, contractType: 1, paymentMethod: 'quarterly'}, , { token: '12345' })</code></pre>



        
            

    

    
    <h4 class="name" id="ping"><span class="type-signature">(async) </span>ping<span class="signature">(albisToken)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    ping(albisToken) checks the connection with Albis API and shop credentials
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>albisToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">object with Albis token, which lets to communicate with Albis API</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line102">line 102</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    "{result: "pong"}"
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>ping({token: '1234'})</code></pre>



        
            

    

    
    <h4 class="name" id="saveApplication"><span class="type-signature">(async) </span>saveApplication<span class="signature">(values, albisToken)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    saveApplication(values, albisToken) saves an application
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>values</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">An object with values data
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>object</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of the object (80 char max)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>purchasePrice</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">purchase price (object value)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>downPayment</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">down payment</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>leasePayments</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">lease payments (returned from getRates() method)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>leaseTerm</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">lease term (returned from getRates() method)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>leasePaymentsWithInsurance</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">lease payments with insurance (returned from getRates() method)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>finalPayment</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">final payment (returned from getRates() method)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lessee</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">lessee name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>street</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">lessee street</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>zipCode</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">lessee zip code</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>city</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">lessee city</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>phoneNumber</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">lessee phone number</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">lessee email</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>legalForm</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">lessee legal form</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>provision</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">shop provision</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>productGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">product group</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>contractType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">contract type</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>paymentMethod</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">payment method ('monthly' or 'quarterly')</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>iban</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">iban</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ssv</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">insurance value</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>serviceFee</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">service fee</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>contractByEmail</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">is contact by email required</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>albisToken</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">object with Albis token, which lets to communicate with Albis API</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line217">line 217</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    a unique number of the application
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>saveApplication(
 {
   object: 'Fridge VW',
   purchasePrice: 5000,
   downPayment: null,
   leasePayments: 300,
   leaseTerm: 12,
   leasePaymentsWithInsurance: 23,
   finalPayment: 150,
   lessee: {
     name: 'Antonina',
     street: 'Lichtenrade',
     city: 'Berlin',
     zipCode: 50000,
     phoneNumber: '+48500000000',
     faxNumber: '+48500000000'
     email: 'abc@gmail.com',
     legalForm: 'GmbH'
   },
   provision: 3,
   productGroup: 1,
   contractType: 1,
   paymentMethod: 'quarterly',
   iban: 'DE88100900001234567892',
   ssv: true,
   serviceFee: 300,
   contractByEmail: true
},
{token: '12345'})</code></pre>



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Albis.html">Albis</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Tue Jul 14 2020 08:51:13 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>